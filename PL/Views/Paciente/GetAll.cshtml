@model ML.Result
@{
    ViewData["Title"] = "GetAll";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <div class="row">
        <div class="col">
            <h1>Pacientes</h1>
        </div>
        <div class="col" style="text-align:end">
            <a class="btn btn-success" href=@Html.ActionLink("Agregar Usuario","Form","Paciente") 
        </div>       
    </div>

    <hr />

    <div>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <td>Eliminar</td>
                    <td class="visually-hidden">IdPaciente</td>
                    <td>Nombre</td>
                    <td>FechaNacimiento</td>
                    <td class="visually-hidden">IdTipoSangre</td>
                    <td>Tipo de Sangre</td>
                    <td>Sexo</td>
                    <td>FechaIngreso</td>
                    <td>Diagnostico</td>
                </tr>
            </thead>         
            
            @if (Model.Objects != null)
            {
                <tbody>
                @foreach (ML.Paciente paciente in Model.Objects)
                {
                    
                    <tr>
                        <td class="text-center">
                            <a class="btn btn-danger"
                                href="@Url.Action("Delete","Paciente",
                                        new { idPaciente = paciente.IdPaciente })"><i class="bi bi-trash3-fill"></i></a>
                        </td>
                        <td class="visually-hidden">@paciente.IdPaciente</td>
                            <td class="text-center">@paciente.Nombre @paciente.ApellidoPaterno @paciente.ApellidoMaterno</td>
                            <td class="text-center">@paciente.FechaNacimiento</td>
                        <td class="visually-hidden">@paciente.TipoSangre.IdTipoSangre</td>
                            <td class="text-center">@paciente.NombreTipoSangre</td>
                            <td class="text-center">@paciente.Sexo</td>
                            <td class="text-center">@paciente.FechaIngreso</td>
                            <td class="text-center">@paciente.Diagnostico</td>
                    </tr>
                    
                }
                </tbody>
            }
            else
            {
               <tr class="alert alert-danger" role="alert">No hay pacientes registrados</tr>
            }
            
        </table>
    </div>
</div>

